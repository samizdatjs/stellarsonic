<template>
  <require from="styles/app.styl"></require>
  <require from="styles/post.styl"></require>
  <require from="styles/post-list.styl"></require>
  <require from="styles/home.styl"></require>
  <require from="components/grid"></require>
  <require from="components/card.html"></require>

  <main class="au-animate home">
    <grid breakpoints.one-time="[1024, 1600, 2160]" columns.two-way="cols" class="post-list cols-${cols}">
      <card 
        repeat.for="post of posts.data"
        color="${post.palette.dark}"
        image.bind="post.image"
        url="#posts/${post._id}"
      >
        <h1 slot="title">${post.headline}</h1>
        <ul slot="footer" class="card-meta">
          <li>
            <i class="fa fa-tags"></i>
            <span repeat.for="category of post.categories">${category}</span>
          </li>
        </ul>
      </card>
    </grid>
    <section class="post-list-footer">
      <div class="button" if.bind="posts.feed.hasMore">
        <a href="#" click.delegate="posts.feed.loadMore()">load more</a>
      </div>
    </section>
  </main>
</template>
