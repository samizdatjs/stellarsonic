<template>
  <require from="components/post-nav"></require>
  <require from="components/color"></require>
  <require from="components/cover.html"></require>
  <require from="components/showdown"></require>
  <require from="components/player"></require>
  <require from="components/tracklist"></require>
  <require from="styles/app.styl"></require>
  <require from="styles/post.styl"></require>
  <require from="styles/article.styl"></require>
  <require from="styles/volume.styl"></require>

  <div class="au-animate post" color-bg.bind="post.palette.dark">
    <main class="container"
      css="background: radial-gradient(ellipse at top, ${post.palette.primary}, transparent);"
    >
      <div class="top-right content">
        <a class="button" route-href="route: home;">
          <i class="fal fa-bars"></i>
        </a>
      </div>
      <div class="top-left content">
        <a if.bind="player.playlist" class="button" href="#posts/${player.playlist._id}">
          <i class="fal fa-music"></i>
        </a>
      </div>
      <section class="cover-section">
        <cover post.bind="post"></cover>
        <footer class="cover-footer">
          <player post.bind="post" class="player"></player>
        </footer>
      </section>
      <section class="playlist-section content">
        <tracklist mix.bind="post"></tracklist>
      </section>
      <section class="content-section post-content">
        <section class="excerpt content-section">
          <p>${post.description}</p>
        </section>
        <showdown markdown.bind="post.text"></showdown>
      </section>
    </main>
  </div>
</template>
