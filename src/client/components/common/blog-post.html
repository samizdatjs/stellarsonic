<template>
  <require from="components/common/spread.html"></require>
  <require from="styles/app.styl"></require>
  <require from="styles/common/blog-post.styl"></require>

  <div class="post au-animate ${edit ? 'edit' : ''}" css="background: ${bgColor}">
    <div class="background-image" css="background: url(${bgImage}) 50% 50% / cover no-repeat;"></div>

    <div class="nav-button left">
      <a class="button" route-href="route: home;">
        <i class="fas fa-th"></i>
      </a>
    </div>
    <div class="nav-button right">
      <a class="button" click.trigger="toggleEdit()">
        <i if.bind="!edit" class="fal fa-edit"></i>
        <i if.bind="edit" class="fal fa-save"></i>
      </a>
    </div>

    <main class="container">
      <div class="title uk-light">
        <slot name="title"></slot>
      </div>

      <div class="panel-bottom au-animate" show.bind="showPanel" css="background: ${color}">
        <slot name="menu"></slot>
      </div>

      <section id="post-cover">
        <div class="segment pad-medium-up">
          <spread class="attached" background.bind="color">
            <div class="cover-main">
              <slot name="cover-main"></slot>
            </div>
            <div slot="side">
              <slot name="cover-side"></slot>
            </div>
          </spread>
        </div>
      </section>

      <section id="post-body">
        <div class="segment pad-medium-up">
          <spread background="#fff">
            <div class="text">
              <slot name="content-main"></slot>
            </div>
            <div slot="side">
              <slot name="content-side"></slot>
            </div>
          </spread>
        </div>
      </section>
    </main>
  </div>
</template>
