<template>
  <require from="components/editor/navbar"></require>
  <require from="components/editor/navmenu"></require>
  <require from="components/editor/theme"></require>
  <require from="components/editor/home/author-edit"></require>
  <require from="components/editor/home/author-list"></require>
  <require from="components/editor/home/post-create"></require>
  <require from="components/editor/home/post-list"></require>
  <require from="styles/editor.styl"></require>
  <require from="styles/animations.styl"></require>

  <navbar menu.bind="menu" nav.bind="nav" navigate.bind="navigate"></navbar>

  <div class="editor-panel au-animate animate-slide-in-left animate-slide-out-left" if.bind="editor.active && !nav.tab">
    <div class="uk-padding">
      <div class="uk-width-1-1@s">
        <ul class="uk-nav uk-nav-default">
          <li class="uk-nav-header">Page</li>
          <li class="uk-nav-divider"></li>
          <li repeat.for="item of menu[0].children">
            <a click.delegate="navigate({mode: 'page', tab: item.id})">
              <span if.bind="item.icon" class="uk-margin-small-right" data-uk-icon.bind="item.icon"></span>
              ${item.title}
            </a>
          </li>
          <li class="uk-nav-header">Site</li>
          <li class="uk-nav-divider"></li>
          <li>
            <a href="#" click.delegate="navigate({mode: 'posts', tab: 'musicplaylists'})">
              <span class="uk-margin-small-right" uk-icon="file-edit"></span>
              Posts
            </a>
          </li>
          <li>
            <a href="#" click.delegate="navigate({mode: 'authors', tab: 'list'})">
              <span class="uk-margin-small-right" uk-icon="users"></span>
              Authors
            </a>
        </ul>
      </div>
    </div>
  </div>

  <div class="editor-panel au-animate animate-slide-in-right animate-slide-out-right" if.bind="editor.active && nav.mode === 'page' && nav.tab">
    <div class="uk-padding" if.bind="nav.tab === 'settings'">
      <theme settings.bind="settings"></theme>
    </div> 
    <div class="uk-padding" if.bind="nav.tab === 'assets'">
      <ul uk-accordion>
        <li>
          <a class="uk-accordion-title" href="#">Images</a>
          <div class="uk-accordion-content">
            <image-upload content.bind="images"></image-upload>
          </div>
        </li>
        <li>
          <a class="uk-accordion-title" href="#">Audio</a>
          <div class="uk-accordion-content">
            <audio-upload content.bind="audio"></audio-upload>
          </div>
        </li>
      </ul>
    </div>
  </div>

  <div class="editor-panel au-animate animate-slide-in-right animate-slide-out-right" if.bind="editor.active && nav.mode === 'posts' && nav.tab">
    <div class="uk-padding" if.bind="nav.tab === 'musicplaylists'">
      <post-list></post-list>
    </div>
  </div>

  <div class="editor-panel au-animate animate-slide-in-right animate-slide-out-right" if.bind="editor.active && nav.mode === 'authors' && nav.tab">
    <div class="uk-padding" if.bind="nav.mode === 'authors' && nav.tab === 'list'">
      <author-list edit.call="editAuthor(author)"></author-list>
    </div>
  </div>

  <post-create></post-create>  
  <author-edit author.bind="author"></author-edit>
</template>
