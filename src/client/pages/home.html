<template>
  <require from="styles/app.styl"></require>
  <require from="styles/post.styl"></require>
  <require from="styles/post-list.styl"></require>
  <require from="styles/home.styl"></require>
  <require from="components/common/grid"></require>
  <require from="components/common/card.html"></require>

  <main class="au-animate home">
    <div class="segment pad-xsmall-up">

    <grid breakpoints.one-time="[1024, 1600, 2160]" columns.two-way="cols" class="post-list cols-${cols}">
      <card 
        repeat.for="post of posts.data"
        color="${post.palette.dark}"
        image.bind="post.image"
        url="#posts/${post._id}"
      >
        <h1 slot="title">${post.headline}</h1>
        <ul slot="footer" class="card-meta">
          <li>
            <i class="fa fa-tags"></i>
            <span repeat.for="genre of post.genres">${genre}</span>
          </li>
        </ul>
      </card>
    </grid>
    </div>
    <div class="segment pad">
      <section class="post-list-footer">
        <a href="#" click.delegate="posts.loadMore()" class="load-more button" if.bind="posts.excludedCount > 0">
          load more
        </a>
      </section>
    </div>
  </main>
</template>
